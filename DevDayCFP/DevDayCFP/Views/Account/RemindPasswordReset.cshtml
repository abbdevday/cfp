@inherits Nancy.ViewEngines.Razor.NancyRazorViewBase<DevDayCFP.ViewModels.ResetPasswordViewModel>
@using System.Collections.Generic
@using DevDayCFP.Extensions
@using DevDayCFP.ViewModels

<div class="container-fluid" id="login-account">
    <div class="section-header">
        <h1>Set <small class="light">new password</small></h1>
    </div>
    <div class="row-fluid">
        <div class="span6 offset3">
            <form method="post" action="" data-parsley-validate>
                <input type="hidden" value="@Model.UserId" name="UserId" />
                <input type="hidden" value="@Model.TokenId" name="TokenId" />

                @Html.ValidationSummary((List<ErrorViewModel>)ViewBag.Page.Value.Errors)

                <div class="control-group">
                    <label for="Password">Password *</label>
                    <input type="password" class="span12" name="Password" id="Password" value="@Model.Password"
                           required data-parsley-trigger="change focusout" data-parsley-length="[8, 128]" maxlength="128"
                           pattern="^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,128}$"
                           data-parsley-pattern-message="Password must contain at least: one lowercase and one uppercase letter, one digit and be minimum 8 characters long" />
                </div>
                <div class="control-group">
                    <label for="ConfirmPassword">Confirm Password *</label>
                    <input type="password" class="span12" name="ConfirmPassword" value="@Model.ConfirmPassword"
                           data-parsley-equalto="#Password" data-parsley-trigger="change focusout" required />
                </div>

                <button type="submit" class="btn btn-success">Change password</button>
            </form>
        </div>
    </div>
</div>